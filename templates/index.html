<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RedHunllef Wager Race</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Live Shuffle.com wager race leaderboard with real-time updates for RedHunllef." />
  <meta name="theme-color" content="#52ff33" />
  <link rel="icon" href="{{ url_for('static', filename='redlogo.ico') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <!-- =========================================================
       Sticky header / top navigation
       ========================================================= -->
  <header class="site-header">
    <div class="container nav">
      <a href="/" class="brand" aria-label="RedHunllef home">
        <div class="logo">
          <!-- Bouncing logo; animation handled in style.css -->
          <img src="{{ url_for('static', filename='redlogo.png') }}" alt="RedHunllef logo" loading="lazy" />
        </div>
        <div class="brand-text">
          <span class="brand-title">RedHunllef</span>
          <span class="brand-tagline">Live Shuffle Wager Race</span>
        </div>
      </a>

      <nav class="nav-links" aria-label="Primary navigation">
        <a href="#leaderboard">Leaderboard</a>
        <a href="#sponsors">Sponsors</a>
        <a href="https://kick.com/redhunllef" target="_blank" rel="noopener">Kick Stream</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- =======================================================
         Hero section: copy + live status + countdown
         ======================================================= -->
    <section class="hero">
      <div class="container hero-layout">
        <!-- Left: copy / CTAs -->
        <div class="hero-copy">
          <div class="hero-kicker">
            <span class="badge">Real-time wager race</span>
          </div>

          <h1 class="hero-heading">
            RedHunllef Wager Race
          </h1>

          <p class="hero-text">
            This dashboard updates automatically with the latest
            <strong>Shuffle.com</strong> wager data.
          </p>

          <div class="hero-actions">
            <a
              class="btn btn-primary"
              href="https://kick.com/redhunllef"
              target="_blank"
              rel="noopener"
            >
              Watch live on Kick
            </a>
            <a class="btn btn-ghost" href="#leaderboard">
              View leaderboard
            </a>
          </div>

          <!-- Responsible gambling link (NCPG) -->
          <p class="hero-footnote">
            Updates every 60 seconds •
            <a
              class="responsible-link"
              href="https://www.ncpgambling.org/responsible-gambling/"
              target="_blank"
              rel="noopener"
            >
              Gamble responsibly
            </a>.
          </p>
        </div>

        <!-- Right: live status + countdown -->
        <aside class="hero-panel" aria-label="Race status">
          <!-- Live Kick status. Populated by /stream. -->
          <div id="liveStatus" class="live-status" role="status" aria-live="polite">
            <div class="live-main">
              <span class="dot" aria-hidden="true"></span>
              <span class="text">Checking stream status…</span>
              <span class="viewer-chip">
                <span class="label">Viewers</span>
                <span class="count">--</span>
              </span>
            </div>
            <a
              class="live-cta"
              href="https://kick.com/redhunllef"
              target="_blank"
              rel="noopener"
            >
              Watch on Kick
            </a>
          </div>

          <!-- Countdown pills -->
          <div class="countdown-card" aria-label="Time remaining in the race">
            <h2 class="countdown-title">Race ends in</h2>
            <div id="countdown" class="countdown-wrap" aria-live="polite">
              <div class="time-pill">
                <span id="dd">00</span>
                <label>Days</label>
              </div>
              <div class="sep">:</div>
              <div class="time-pill">
                <span id="hh">00</span>
                <label>Hours</label>
              </div>
              <div class="sep">:</div>
              <div class="time-pill">
                <span id="mm">00</span>
                <label>Minutes</label>
              </div>
              <div class="sep">:</div>
              <div class="time-pill">
                <span id="ss">00</span>
                <label>Seconds</label>
              </div>
            </div>
            <p class="countdown-caption">
              The leaderboard below follows this window exactly.
            </p>
          </div>
        </aside>
      </div>
    </section>

    <!-- =======================================================
         Sponsors
         ======================================================= -->
    <section id="sponsors" class="sponsors">
      <div class="container sponsors-inner">
        <h2 class="section-title">Support RedHunllef</h2>
        <p class="section-subtitle">
          Visiting sponsors through these links helps keep the stream and race prizes running.
        </p>

        <div class="sponsors-grid">
          <a
            href="https://shuffle.com/?r=Red"
            class="sponsor-btn"
            target="_blank"
            rel="noopener"
          >
            Shuffle.com
          </a>
          <a
            href="https://runestake.com/r/Red"
            class="sponsor-btn"
            target="_blank"
            rel="noopener"
          >
            RuneStake.com
          </a>
        </div>
      </div>
    </section>

    <!-- =======================================================
         Leaderboard
         ======================================================= -->
    <section id="leaderboard" class="race-section">
      <div class="container">
        <div class="race-header-row">
          <div class="race-header-block">
            <h2 class="section-title section-title-main">Leaderboard</h2>
            <p class="section-subtitle">
              Top wagerers for the active race.
            </p>
          </div>
        </div>

        <div class="race-layout">
          <section class="leaderboard-card" aria-label="Top leaderboard">
            <div class="helper-card">
              <p>
                <strong>No manual refresh needed.</strong>
                This board updates automatically from the Shuffle API.
              </p>
            </div>

            <!-- Top 3 podium (populated by script.js) -->
            <div
              id="podium"
              class="podium-olympic"
              aria-label="Top 3 wagerers"
            ></div>

            <!-- Positions 4–11 (populated by script.js) -->
            <ul
              id="others-list"
              class="others-inline"
              aria-label="Ranks 4 to 11"
            ></ul>
          </section>
        </div>

        <section class="race-info-inline" aria-label="Wager race terms and conditions">
          <h3>Wager Race Terms &amp; Conditions</h3>
          <p class="race-meta">
            The RedHunllef wager race uses live affiliate data from Shuffle.com.
            Rankings are based on <strong>total wagered amount</strong> during the configured
            time window. All displayed usernames are intentionally masked with asterisks
            to protect player privacy, while full usernames are logged server-side
            for auditing and prize verification.
          </p>
          <p class="race-meta disclaimer">
            Wager totals and payouts shown here are for informational purposes only
            and may be subject to independent verification, review, and adjustment
            by Shuffle.com and the event organizers.
          </p>
        </section>
      </div>
    </section>
  </main>

  <!-- =========================================================
       Footer
       ========================================================= -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-top">
        <span>&copy; <span id="year"></span> RedHunllef.</span>
        <div class="footer-links">
          <a href="#leaderboard">Leaderboard</a>
          <a href="#sponsors">Sponsors</a>
          <a href="https://kick.com/redhunllef" target="_blank" rel="noopener">Kick</a>
          <a href="https://discord.gg/nhCbCZQEMK" target="_blank" rel="noopener">Discord</a>
        </div>
      </div>
      <div class="footer-meta">
        <span>
          Site experience by
          <a href="https://kick.com/gingrsnaps" target="_blank" rel="noopener">GingrSnaps</a>
        </span>
        <span>Backend powered by Shuffle affiliate data.</span>
        <span class="footer-disclaimer">
          All wagering and payouts are subject to review and verification.
        </span>
      </div>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</body>
</html>
